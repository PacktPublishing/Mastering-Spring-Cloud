spring:  
  application:
    name: account-service
  rabbitmq:
    host: 192.168.99.100
    port: 5672
  cloud:  
    stream:
      bindings:
        output:
          destination: orders-in
        input:
          consumer:
            partitioned: true
          destination: orders-out
          group: account
      rabbit:
        bindings:
          output:
            producer:
              exchangeType: direct
              routingKeyExpression: '"#"'

server:  
  port: ${PORT:8091}

eureka:
  client:
    serviceUrl:
      defaultZone: http://localhost:8761/eureka/

management:
  health:
    binders:
      enabled: true
            
---
spring:
  profiles: instance1
  cloud:
    stream:
      instanceCount: 2
      instanceIndex: 0
server:  
  port: ${PORT:8091}  

---
spring:
  profiles: instance2
  cloud:
    stream:
      instanceCount: 2
      instanceIndex: 1
server:  
  port: ${PORT:9091} 